<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>QTableWidget表格控件的用法 | QT Learning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="QTableWidget 是 Qt 提供的一种表格控件（如图所示），类似于我们经常使用的 Excel 表格，可以将数据以表格的方式展示给用户。QTableWidget 的结构布局如图所示。   整个 QTableWidget 表格可以分为 3 个区域:  区域 ① 和 ② 都是表头，区域 ① 设置每一行的表头，区域 ② 设置每一列的表头。我们可以自定义两个区域内的表头，比如第一列是各个教程的">
<meta property="og:type" content="article">
<meta property="og:title" content="QTableWidget表格控件的用法">
<meta property="og:url" content="http://example.com/2022/05/27/QTableWidget%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/index.html">
<meta property="og:site_name" content="QT Learning">
<meta property="og:description" content="QTableWidget 是 Qt 提供的一种表格控件（如图所示），类似于我们经常使用的 Excel 表格，可以将数据以表格的方式展示给用户。QTableWidget 的结构布局如图所示。   整个 QTableWidget 表格可以分为 3 个区域:  区域 ① 和 ② 都是表头，区域 ① 设置每一行的表头，区域 ② 设置每一列的表头。我们可以自定义两个区域内的表头，比如第一列是各个教程的">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-05-27T02:57:13.000Z">
<meta property="article:modified_time" content="2022-05-27T08:06:55.601Z">
<meta property="article:author" content="Ilnehc">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="QT Learning" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">QT Learning</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-QTableWidget表格控件的用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/27/QTableWidget%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2022-05-27T02:57:13.000Z" itemprop="datePublished">2022-05-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      QTableWidget表格控件的用法
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>   QTableWidget 是 Qt 提供的一种表格控件（如图所示），类似于我们经常使用的 Excel 表格，可以将数据以表格的方式展示给用户。QTableWidget 的结构布局如图所示。</p>
<image src="QTableWidget表格控件的用法/1.gif">

<p>整个 QTableWidget 表格可以分为 3 个区域:</p>
<ul>
<li>区域 ① 和 ② 都是表头，区域 ① 设置每一行的表头，区域 ② 设置每一列的表头。我们可以自定义两个区域内的表头，比如第一列是各个教程的名称，所以第一列的表头可以修改为“教程名称”;</li>
<li>区域 ③ 为数据区，表格中所有的数据都位于此区域，该区域内可以存放单元格，也可以存放按钮、文本框等控件。</li>
</ul>
<p><code>默认情况下，表格会显示表头，表头的内容为行号或列号。根据实际需要，我们可以将表头隐藏起来。</code></p>
<p>QTableWidget 继承自 QTableView 类，QTableView 类也可以用来显示表格控件。QTableWidget 可以看做是 QTableView 的“简易版”或者“升级版”，它们的区别在于：</p>
<ul>
<li>QTableWidget 使用起来更简单，而 QTableView 的用法相对比较复杂。</li>
<li>QTableView 可以存储大量的数据（例如几十万甚至几百万），用户浏览表格中的数据时不会出现卡顿等现象；尽管 QTableWidget 也能用来存储大量的数据，但用户使用时可能出现卡顿等现象，且显示的数据越多，类似的现象越明显。</li>
</ul>
<p>总之，QTableWidget 只适合显示少量的数据（几百或几千个），如果想要显示更多的数据，应该用 QTableView。此外，QTableView 还有一些更高级的用法，我们会在讲解 QTableView 时做重点介绍。</p>
<p>QTableWidget 框架在实际开发中经常使用，它可以降低您学习 QT 表格控件的成本，可以更快地掌握表格的用法，<strong>比较适用于初学者</strong>。</p>
<h3 id="QTableWidget表格的创建"><a href="#QTableWidget表格的创建" class="headerlink" title="QTableWidget表格的创建"></a>QTableWidget表格的创建</h3><p>使用 QTableWidget 控件，必须先引入<code>&lt;QTableWidget&gt;</code>头文件。</p>
<p>QTableWidget 类提供了 2 个构造函数，分别是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QTableWidget(QWidget *parent = Q_NULLPTR)</span><br><span class="line">QTableWidget(int rows, int columns, QWidget *parent = Q_NULLPTR)</span><br></pre></td></tr></table></figure>

<p>第一个构造函数可以在指定的 parent 父窗口中创建一个空的表格，表格中不显示任何单元格。第二个构造函数可以在指定的 parent 父窗口中创建一个表格，表格中整齐地排列着 rows 行 columus 列的单元格，每个单元格都是空的。</p>
<image src="QTableWidget表格控件的用法/2.gif">

<p>实用 QTableWidget 表格之前，必须指定表格的行和列。我们可以直接调用第 2 个构造函数，这样既创建了表格又指定了行和列。当然，也可以调用第 1 个构造函数先创建表格，然后借助 QTableWidget 类提供的成员方法指定行和列，两种方式都可以。</p>
<p>与数组下标类似，QTableWidget 表格单元格的行标和列标都是从 0 开始。例如在图 b)中，选中的单元格的坐标是 (0, 0)。</p>
<h5 id="QTableWidgetItem单元格"><a href="#QTableWidgetItem单元格" class="headerlink" title="QTableWidgetItem单元格"></a>QTableWidgetItem单元格</h5><p>QTableWidget 表格中，每个单元格都是 QTableWidgetItem 类的实例对象。</p>
<p>定义 QTableWidgetItem 类的实例对象之前，程序中要引入<code>&lt;QTableWidgetItem&gt;</code>头文件。QTableWidgetItem 类提供了 4 个构造函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QTableWidgetItem(int type = Type)</span><br><span class="line">QTableWidgetItem(const QString &amp;text, int type = Type)</span><br><span class="line">QTableWidgetItem(const QIcon &amp;icon, const QString &amp;text, int type = Type)</span><br><span class="line">QTableWidgetItem(const QTableWidgetItem &amp;other)  </span><br></pre></td></tr></table></figure>

<p>text 参数用于指定单元格要显示的文本（字符串），icon 参数用于指定单元格要显示的图标，type 参数配有默认值，很少用到。</p>
<p>QTableWidgetItem 单元格通常用来存放 text 文本和 icon 图标，借助该类提供的 setBackground()、setTextAlignment() 等成员方法，我们可以轻松设置每个单元格的字体、颜色、背景等。</p>
<p>QTableWidgetItem 类还对<code>&lt;</code>小于运算符进行了重载，根据各个单元格存储的文本内容（字符串），多个单元格之间可以直接比较大小。借助这一特性，我们可以很轻易地实现“单元格排序”功能。</p>
<p>默认情况下，用户可以选中 QTableWidget 表格中的某个单元格，还可以对目标单元格中的文本内容进行修改。通过设置 QTableWidget 表格，可以禁止用户编辑所有单元格。</p>
<p>QTableWidgetItem 类提供了很多实用的成员方法，其中比较常用的方法如下表所示：</p>
<table>
<thead>
<tr>
<th>成员方法</th>
<th>功 能</th>
</tr>
</thead>
<tbody><tr>
<td>setText(const QString &amp;text)</td>
<td>设置单元格中的文本。</td>
</tr>
<tr>
<td>setIcon(const QIcon &amp;icon)</td>
<td>给单元格添加图标。</td>
</tr>
<tr>
<td>setBackground(const QBrush &amp;brush)</td>
<td>设置单元格的背景。</td>
</tr>
<tr>
<td>setFont(const QFont &amp;font)</td>
<td>设置单元格中文本的字体。</td>
</tr>
<tr>
<td>setForeground(const QBrush &amp;brush)</td>
<td>设置单元格中字体的颜色。</td>
</tr>
<tr>
<td>setTextAlignment(int alignment)</td>
<td>设置单元格中文本的对齐方式。</td>
</tr>
<tr>
<td>setToolTip(const QString &amp;toolTip)</td>
<td>给单元格设置提示信息。</td>
</tr>
</tbody></table>
<h3 id="QTableWidget表格的使用"><a href="#QTableWidget表格的使用" class="headerlink" title="QTableWidget表格的使用"></a>QTableWidget表格的使用</h3><p>对于创建好的 QTableWidget 表格，我们可以借助该类提供的成员方法快速地操作它。</p>
<p>QTableWidget 类提供了很多实用的成员方法，它还从父类继承了很多方法，下表给大家罗列了实际场景中操作 QTableWidget 表格用得最多的几个方法：</p>
<table>
<thead>
<tr>
<th>成员方法</th>
<th>功 能</th>
</tr>
</thead>
<tbody><tr>
<td>setRowCount(int rows)</td>
<td>设置表格的行数。</td>
</tr>
<tr>
<td>setColumnCount(int columns)</td>
<td>设置表格的列数。</td>
</tr>
<tr>
<td>setRowHeight(int row, int height)</td>
<td>设置指定行的行高。</td>
</tr>
<tr>
<td>setColumnWidth(int column, int width)</td>
<td>设置指定列的宽度。</td>
</tr>
<tr>
<td>setCellWidget(int row, int column, QWidget *widget)</td>
<td>向表格中的指定位置添加 widget 控件。通过调用 cellWidget(int row, int column) 方法，可以获取指定位置出的控件。</td>
</tr>
<tr>
<td>setHorizontalHeaderLabels(const QStringList &amp;labels)</td>
<td>设置表格的水平表头。</td>
</tr>
<tr>
<td>setVerticalHeaderLabels(const QStringList &amp;labels)</td>
<td>设置表格的竖直表头。</td>
</tr>
<tr>
<td>setItem(int row, int column, QTableWidgetItem *item)</td>
<td>向表格指定位置添加单元格。获取指定位置的单元格，可以借助 item(int row, int column) 或者 itemAt(int ax, int ay) 方法。</td>
</tr>
<tr>
<td>setEditTriggers(EditTriggers triggers)</td>
<td>当 triggers 参数值为 QAbstractItemView::NoEditTriggers 时，表示禁止用户编辑单元格。</td>
</tr>
<tr>
<td>resize(int w, int h)</td>
<td>设置表格的尺寸。</td>
</tr>
<tr>
<td>setFont(const QFont &amp;)</td>
<td>设置表格数据区中文本的字体和大小。</td>
</tr>
</tbody></table>
<h3 id="QTableWidget信号和槽"><a href="#QTableWidget信号和槽" class="headerlink" title="QTableWidget信号和槽"></a>QTableWidget信号和槽</h3><p>QTableWidget 类提供的信号函数，可以监听用户对表格中的哪个单元格进行了何种操作，常见的操作包括点击、双击、按下、编辑等。</p>
<p>下表展示了 QTableWidget 类提供的一些信号函数以及它们各自的功能：</p>
<table>
<thead>
<tr>
<th>信号函数</th>
<th>功 能</th>
</tr>
</thead>
<tbody><tr>
<td>cellClicked(int row,int column)</td>
<td>当某个单元格被点击时，触发该信号，row 和 columu 就是被点击的单元格的位置。</td>
</tr>
<tr>
<td>cellDoubleClicked(int row,int column)</td>
<td>当某个单元格被双击时，触发该信号，row 和 columu 就是被点击的单元格的位置。</td>
</tr>
<tr>
<td>cellEntered(int row,int column)</td>
<td>当某个单元格被按下时，触发该信号，row 和 columu 就是被点击的单元格的位置。</td>
</tr>
<tr>
<td>cellChanged(int row, int column)</td>
<td>当某个单元格中的数据发生改变时，触发该信号，row 和 columu 就是被改变的单元格的位置。</td>
</tr>
<tr>
<td>itemClicked(QTableWidgetItem *item)</td>
<td>当某个单元格被点击时，触发该信号，item 就是被点击的单元格。</td>
</tr>
<tr>
<td>itemDoubleClicked(QTableWidgetItem *item)</td>
<td>当某个单元格被双击时，触发该信号，item 就是被双击的单元格。</td>
</tr>
<tr>
<td>itemEntered(QTableWidgetItem *item)</td>
<td>当某个单元格被按下时，触发该信号，item 就是被按下的单元格。</td>
</tr>
<tr>
<td>itemChanged(QTableWidgetItem *item)</td>
<td>当某个单元格中的数据发生改变时，触发该信号，item 就是被改变的单元格。</td>
</tr>
</tbody></table>
<p>QTableWiget 表格也可以接收信号并做出相应地响应,如下</p>
<table>
<thead>
<tr>
<th>槽函数</th>
<th>功 能</th>
</tr>
</thead>
<tbody><tr>
<td>clear()</td>
<td>删除表格中所有单元格的内容，包括表头。</td>
</tr>
<tr>
<td>clearContents()</td>
<td>不删除表头，仅删除表格中数据区内所有单元格的内容.</td>
</tr>
<tr>
<td>insertColumn(int column)</td>
<td>在表格第 column 列的位置插入一个空列。</td>
</tr>
<tr>
<td>insertRow(int row)</td>
<td>在表格第 row 行的位置插入一个空行。</td>
</tr>
<tr>
<td>removeColumn(int column)</td>
<td>删除表格中的第 column 列，该列的所有单元格也会一并删除。</td>
</tr>
<tr>
<td>removeRow(int row)</td>
<td>删除表格中的第 row 行，该行的所有单元格也会一并删除。</td>
</tr>
<tr>
<td>scrollToItem(const QTableWidgetItem *item, QAbstractItemView::ScrollHint hint &#x3D; EnsureVisible)</td>
<td>滑动到指定的单元格。</td>
</tr>
</tbody></table>
<h3 id="QTableWidget表格实例"><a href="#QTableWidget表格实例" class="headerlink" title="QTableWidget表格实例"></a>QTableWidget表格实例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;mainwindow.h&quot;</span><br><span class="line">#include &quot;ui_mainwindow.h&quot;</span><br><span class="line">#include &lt;QTableWidget&gt;</span><br><span class="line">#include &lt;QLabel&gt;</span><br><span class="line">#include &lt;QHeaderView&gt;</span><br><span class="line">#include &lt;QHBoxLayout&gt;</span><br><span class="line"></span><br><span class="line">MainWindow::MainWindow(QWidget *parent)</span><br><span class="line">    : QMainWindow(parent)</span><br><span class="line">    , ui(new Ui::MainWindow)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(this);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       //在 widget 窗口中添加一个3 行 3 列的表格</span><br><span class="line">//       QTableWidget *TableWidget = new QTableWidget(3,3,this);</span><br><span class="line">       QTableWidget *TableWidget = new QTableWidget(this);</span><br><span class="line">       TableWidget-&gt;setRowCount(3);</span><br><span class="line">       TableWidget-&gt;setColumnCount(3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       //自定义表格的尺寸和字体大小</span><br><span class="line">       TableWidget-&gt;resize(800,600);</span><br><span class="line">       TableWidget-&gt;setFont(QFont(&quot;宋体&quot;,20));</span><br><span class="line">       // 设置制定行的行高，参数为下表和数值</span><br><span class="line">//       TableWidget-&gt;setRowHeight(0,100);</span><br><span class="line">//       TableWidget-&gt;setRowHeight(1,200);</span><br><span class="line">//       TableWidget-&gt;setRowHeight(2,300);</span><br><span class="line">        // 设置制定列的列宽</span><br><span class="line">//       TableWidget-&gt;setColumnWidth(0,200);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       //设置表格中每一行的表头</span><br><span class="line">//       QStringList q;</span><br><span class="line">//       q.append(&quot;姓名&quot;);</span><br><span class="line">//       q.append(&quot;年龄&quot;);</span><br><span class="line">//       q.append(&quot;性别&quot;);</span><br><span class="line">       TableWidget-&gt;setHorizontalHeaderLabels(QStringList() &lt;&lt; &quot;姓名&quot; &lt;&lt; &quot;年龄&quot; &lt;&lt; &quot;性别&quot;);</span><br><span class="line">       // 设置表头自适应</span><br><span class="line">//       TableWidget-&gt;horizontalHeader()-&gt;setSectionResizeMode(QHeaderView::Stretch);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       // QHeaderView::Interactive //用户可设置，也可被程序设置成默认大小</span><br><span class="line">       // QHeaderView::Fixed       //用户不可更改列宽</span><br><span class="line">       // QHeaderView::Stretch     //根据空间，自动改变列宽，用户与程序不能改变列宽</span><br><span class="line">       // QHeaderView::ResizeToContents//根据内容改变列宽，用户与程序不能改变列宽</span><br><span class="line"></span><br><span class="line">       // 设置表头背景色</span><br><span class="line">//       TableWidget-&gt;horizontalHeader()-&gt;setStyleSheet(&quot;color:#577557; background: #f2f2f2&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//       //设置表格数据区内的所有单元格都不允许编辑</span><br><span class="line">//       TableWidget-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);</span><br><span class="line"></span><br><span class="line">//       //设置表格中每一行的内容</span><br><span class="line">       TableWidget-&gt;setItem(0,0,new QTableWidgetItem(&quot;张三&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(0,1,new QTableWidgetItem(&quot;1&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(0,2,new QTableWidgetItem(&quot;男&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(1,0,new QTableWidgetItem(&quot;李四&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(1,1,new QTableWidgetItem(&quot;2&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(1,2,new QTableWidgetItem(&quot;男&quot;));</span><br><span class="line"></span><br><span class="line">       QTableWidgetItem *q =  new QTableWidgetItem();</span><br><span class="line">       q-&gt;setText(&quot;王二&quot;);</span><br><span class="line">//       q-&gt;setIcon(QIcon(&quot;:/image/icon.png&quot;));</span><br><span class="line">//       q-&gt;setBackground(QBrush(Qt:black));</span><br><span class="line">//       q-&gt;setTextAlignment(Qt::AlignRight);</span><br><span class="line">//       q-&gt;setToolTip(&quot;这是王二&quot;);</span><br><span class="line">       TableWidget-&gt;setItem(2,0,q);</span><br><span class="line">       TableWidget-&gt;setItem(2,1,new QTableWidgetItem(&quot;3&quot;));</span><br><span class="line">       TableWidget-&gt;setItem(2,2,new QTableWidgetItem(&quot;女&quot;));</span><br><span class="line">//       //向 widget 窗口中添加一个文本框</span><br><span class="line">       lab = new QLabel(this) ;</span><br><span class="line">       lab-&gt;setText(&quot;选中单元格&quot;);</span><br><span class="line">       //自定义文本框的尺寸和位置</span><br><span class="line">       lab-&gt;resize(900,150);</span><br><span class="line">       lab-&gt;move(0,350);</span><br><span class="line">       lab-&gt;setAlignment(Qt::AlignCenter);</span><br><span class="line">       lab-&gt;setFont(QFont(&quot;宋体&quot;,16));</span><br><span class="line">       //为表格和文本框之间建立关联，当用户点击表格中某个单元格时，文本框显示单元格内的文本内容。</span><br><span class="line">       connect(TableWidget,&amp;QTableWidget::itemClicked,this,[=](QTableWidgetItem * item)&#123;</span><br><span class="line">           this-&gt;lab-&gt;setText(item-&gt;text());</span><br><span class="line">       &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MainWindow::~MainWindow()</span><br><span class="line">&#123;</span><br><span class="line">    delete ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意:</p>
<h5 id="1-设置tablewidget充满整个mainwindow"><a href="#1-设置tablewidget充满整个mainwindow" class="headerlink" title="1.设置tablewidget充满整个mainwindow"></a>1.设置tablewidget充满整个mainwindow</h5><p>如果在mainwindow里直接setlayout会报错:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QHBoxLayout *windowLayout = new QHBoxLayout;</span><br><span class="line">windowLayout-&gt;addWidget(TableWidget);</span><br><span class="line">this-&gt;setLayout(windowLayout);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QWidget::setLayout: Attempting to set QLayout  on MainWindow &quot;MainWindow&quot;, which already has a layout </span><br></pre></td></tr></table></figure>

<p><span style="color:red">这个错误的原因是mainwindow自身带有一个layout,而QT中一个widget不能同时平行挂两个layout </span></p>
<p>解决办法: <span style="color:red">new 一个继承mainwindow的QWidget </span></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//这个控件新建用来绕开mainwindow的自带layout</span><br><span class="line">QWidget *widget = new QWidget(this);</span><br><span class="line">//新建一个表格</span><br><span class="line">QTableWidget *Table = new QTableWidget(widget);</span><br><span class="line">//表列随着表格变化而自适应变化</span><br><span class="line">Table-&gt;horizontalHeader()-&gt;setSectionResizeMode(QHeaderView::Stretch);</span><br><span class="line">//表行随着表格变化而自适应变化</span><br><span class="line">Table-&gt;verticalHeader()-&gt;setSectionResizeMode(QHeaderView::Stretch);</span><br><span class="line">//将widget设置为窗口的中心控件</span><br><span class="line">setCentralWidget(widget);</span><br><span class="line">//添加布局器     -- 垂直</span><br><span class="line">QHBoxLayout *windowLayout = new QHBoxLayout;</span><br><span class="line">windowLayout-&gt;addWidget(Table);</span><br><span class="line">widget-&gt;setLayout(windowLayout);</span><br></pre></td></tr></table></figure>

<h5 id="2-QTableWidget控件属性"><a href="#2-QTableWidget控件属性" class="headerlink" title="2.QTableWidget控件属性"></a>2.QTableWidget控件属性</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/icatchyou/article/details/41445627">https://blog.csdn.net/icatchyou/article/details/41445627</a></p>
</image></image>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/27/QTableWidget%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/" data-id="cl3o5vu0j0000vjwshx124tv9" data-title="QTableWidget表格控件的用法" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/05/12/QT%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">QT信号与槽</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/27/QTableWidget%E8%A1%A8%E6%A0%BC%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95/">QTableWidget表格控件的用法</a>
          </li>
        
          <li>
            <a href="/2022/05/12/QT%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/">QT信号与槽</a>
          </li>
        
          <li>
            <a href="/2022/04/22/QT-%E7%AA%97%E5%8F%A3%E8%B7%B3%E8%BD%AC%E6%96%B9%E5%BC%8F/">QT 窗口跳转方式</a>
          </li>
        
          <li>
            <a href="/2022/04/08/QDialog%E6%A8%A1%E6%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E5%92%8C%E9%9D%9E%E6%A8%A1%E6%80%81%E5%AF%B9%E8%AF%9D%E6%A1%86:accept()%E5%92%8Cexec()/">QDialog模态对话框和非模态对话框/accept()和exec()</a>
          </li>
        
          <li>
            <a href="/2022/04/08/QT%E6%95%B0%E6%8D%AE%E5%BA%93Sqlite%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/">QT数据库Sqlite的增删改查</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Ilnehc<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>